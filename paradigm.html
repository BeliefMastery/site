<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paradigm Clarification System - Belief Mastery</title>
  <meta name="description" content="Clarify your paradigm of 'The Good Life' and 'God' across four dimensions of truth. Identify your primary alignment and understand your worldview structure.">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Page-specific styles for paradigm.html */
    body {
      background: var(--bg);
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('./images/paradigm.jpg');
      background-size: cover;
      background-attachment: fixed;
      background-repeat: no-repeat;
      background-position: center;
      z-index: 0;
      pointer-events: none;
    }

    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.14));
      z-index: 1;
      pointer-events: none;
    }

    .paradigm-container {
      position: relative;
      z-index: 2;
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    .intro-section {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      border-left: 4px solid var(--brand);
    }

    .intro-section h2 {
      color: var(--brand);
      font-size: 1.75rem;
      margin-bottom: 1rem;
    }

    .category-selection {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .category-card {
      background: var(--glass);
      border: 2px solid transparent;
      border-radius: var(--radius);
      padding: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .category-card:hover {
      border-color: var(--brand);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .category-card.selected {
      border-color: var(--brand);
      background: rgba(255, 184, 0, 0.1);
    }

    .category-card h3 {
      margin-bottom: 0.5rem;
      color: var(--brand);
    }

    .category-card p {
      color: var(--muted);
      font-size: 0.9rem;
      margin: 0;
    }

    .questionnaire-section {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      display: none;
    }

    .questionnaire-section.active {
      display: block;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
      margin-bottom: 2rem;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--brand), var(--accent));
      transition: width 0.3s ease;
      width: 0%;
    }

    .question-block {
      margin-bottom: 2rem;
    }

    .question-block h3 {
      margin-bottom: 1rem;
      color: var(--brand);
      font-size: 1.25rem;
    }

    .question-block .description {
      color: var(--muted);
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    .scale-container {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .scale-input {
      flex: 1;
    }

    .scale-input input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: rgba(0, 0, 0, 0.1);
      outline: none;
      -webkit-appearance: none;
    }

    .scale-input input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--brand);
      cursor: pointer;
    }

    .scale-input input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--brand);
      cursor: pointer;
      border: none;
    }

    .scale-value {
      min-width: 40px;
      text-align: center;
      font-weight: 600;
      font-size: 1.25rem;
      color: var(--brand);
    }

    .scale-labels {
      display: flex;
      justify-content: space-between;
      width: 100%;
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 0.5rem;
    }

    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin-top: 2rem;
    }

    .results-section {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      display: none;
    }

    .results-section.active {
      display: block;
    }

    .results-section h2 {
      color: var(--brand);
      margin-bottom: 1.5rem;
    }

    .paradigm-summary {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .paradigm-card {
      background: rgba(255, 255, 255, 0.7);
      border-left: 4px solid var(--brand);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 1rem;
    }

    .paradigm-card h4 {
      color: var(--brand);
      margin-bottom: 0.5rem;
    }

    .score-bar {
      width: 100%;
      height: 20px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      margin: 0.5rem 0;
      overflow: hidden;
    }

    .score-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--brand), var(--accent));
      transition: width 0.3s ease;
      border-radius: 10px;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--radius);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-primary {
      background: var(--brand);
      color: white;
    }

    .btn-primary:hover {
      background: var(--accent);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: rgba(0, 0, 0, 0.1);
      color: var(--brand);
    }

    .btn-secondary:hover {
      background: rgba(0, 0, 0, 0.2);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* New question type styles */
    .binary-options, .scenario-options, .multiselect-options {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .binary-option, .scenario-option, .multiselect-option {
      display: flex;
      align-items: flex-start;
      padding: 1rem;
      background: var(--glass);
      border: 2px solid rgba(0, 0, 0, 0.1);
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .binary-option:hover, .scenario-option:hover, .multiselect-option:hover {
      background: rgba(255, 255, 255, 0.8);
      border-color: var(--brand);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .binary-option.selected, .scenario-option.selected, .multiselect-option.selected {
      background: rgba(40, 167, 69, 0.1);
      border-color: #28a745;
    }

    .binary-option input[type="radio"],
    .scenario-option input[type="radio"],
    .multiselect-option input[type="checkbox"] {
      margin-right: 0.75rem;
      margin-top: 0.25rem;
      cursor: pointer;
    }

    .option-text {
      flex: 1;
      line-height: 1.6;
    }

    .selection-limit {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: var(--muted);
      font-style: italic;
    }

    .selection-count {
      margin-top: 1rem;
      padding: 0.75rem;
      background: rgba(40, 167, 69, 0.1);
      border-left: 3px solid #28a745;
      border-radius: var(--radius);
      font-weight: 600;
      color: var(--brand);
    }

    /* Ranked question styles */
    .ranked-options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }

    .ranked-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: var(--glass);
      border: 2px solid rgba(0, 0, 0, 0.1);
      border-radius: var(--radius);
      cursor: move;
      transition: var(--transition);
    }

    .ranked-item:hover {
      background: rgba(255, 255, 255, 0.8);
      border-color: var(--brand);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .ranked-item.dragging {
      opacity: 0.5;
    }

    .rank-number {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background: var(--brand);
      color: white;
      border-radius: 50%;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .rank-text {
      flex: 1;
      line-height: 1.6;
    }

    .ranked-instruction {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: var(--muted);
      font-style: italic;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .question-number {
      font-size: 0.9rem;
      color: var(--muted);
      font-weight: 600;
    }

    .question-stage {
      font-size: 0.85rem;
      color: var(--brand);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .question-text {
      margin-bottom: 1rem;
      color: var(--brand);
      font-size: 1.25rem;
      line-height: 1.6;
    }

    .enhanced-insights {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--radius);
      padding: 2rem;
      margin-top: 2rem;
      box-shadow: var(--shadow);
    }

    .insight-section {
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: var(--glass);
      border-radius: var(--radius);
      border-left: 3px solid var(--brand);
    }

    .insight-section h4 {
      color: var(--brand);
      margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
      .paradigm-container {
        padding: 1rem;
      }

      .category-grid {
        grid-template-columns: 1fr;
      }

      .ranked-item {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
    <header class="site-header" role="banner">
    <nav class="nav" aria-label="Primary navigation">
      <button class="hamburger" aria-expanded="false" aria-controls="top-nav" aria-label="Toggle navigation">‚ò∞</button>
      <ul class="nav-list" id="top-nav" role="menubar">
        <li role="none"><a role="menuitem" href="index.html">Home</a></li>
        <li role="none" class="nav-dropdown">
          <a role="menuitem" href="books.html" class="dropdown-toggle">Books <span style="font-size:0.8em;">‚ñº</span></a>
          <ul class="dropdown-menu" role="menu">
            <li role="none"><a role="menuitem" href="books.html">All Books</a></li>
            <li role="none"><a role="menuitem" href="books.html#belief-mastery">Belief Mastery</a></li>
            <li role="none"><a role="menuitem" href="books.html#sovereign-of-mind">Sovereign of Mind</a></li>
            <li role="none"><a role="menuitem" href="books.html#distortion-codex">Distortion Codex</a></li>
            <li role="none"><a role="menuitem" href="books.html#unspeakables-grimoire">The Unspeakables Grimoire</a></li>
            <li role="none"><a role="menuitem" href="books.html#sovereign-integral-devotionalism">Sovereign Integral Devotionalism</a></li>
            <li role="none"><a role="menuitem" href="books.html#peer-counseling-manual">Peer-Counseling Manual</a></li>
          </ul>
        </li>
        <li role="none" class="nav-dropdown">
          <a role="menuitem" href="tools.html" class="dropdown-toggle">Tools <span style="font-size:0.8em;">‚ñº</span></a>
          <ul class="dropdown-menu" role="menu">
            <li role="none"><a role="menuitem" href="tools.html">All Tools</a></li>
            <li role="none"><a role="menuitem" href="tools.html#sovereignty-simulacrum">Sovereignty Simulacrum</a></li>
            <li role="none"><a role="menuitem" href="diagnosis.html">Diagnosis System</a></li>
            <li role="none"><a role="menuitem" href="coaching.html">Coaching Agent</a></li>
            <li role="none"><a role="menuitem" href="manipulation.html">Manipulation Analysis</a></li>
            <li role="none"><a role="menuitem" href="channels.html">Channel Analysis</a></li>
            <li role="none"><a role="menuitem" href="paradigm.html" class="active">Paradigm Clarification</a></li>
            <li role="none"><a role="menuitem" href="relationship.html">Relationship Optimization</a></li>
            <li role="none"><a role="menuitem" href="temperament.html">Temperament Analyzer</a></li>
            <li role="none"><a role="menuitem" href="needs-dependency.html">Needs Dependency Loop</a></li>
          </ul>
        </li>
        <li role="none"><a role="menuitem" href="about-the-author.html">About the Author</a></li>
      </ul>
    </nav>
  </header>

  <main style="position: relative; z-index: 2;">
    <div class="paradigm-container">
      <section class="intro-section">
        <h2>Paradigm Clarification System</h2>
        <p style="font-size: 1.3rem; font-weight: 700; color: var(--brand); margin-bottom: 1.5rem; line-height: 1.5;">
          How do you make sense of life and the divine? Clarify your paradigm across four dimensions of truth. Discover your worldview structure!
        </p>
        <div style="background: rgba(255, 184, 0, 0.1); border-left: 4px solid var(--brand); border-radius: var(--radius); padding: 1.25rem; margin-bottom: 1.5rem;">
          <p style="margin: 0; font-size: 0.95rem; line-height: 1.7; color: var(--muted);"><strong style="color: var(--brand);">Epistemic Mode:</strong> This engine maps how meaning is currently organized in you. It does not determine what is real, correct, or ultimate. Paradigms are lenses for understanding, not commitments to truth status.</p>
        </div>
        <p><strong>Clarify your current dominant framing of "The Good Life" and "God" across four dimensions of truth.</strong></p>
        <p>This system helps you identify your primary alignment with different ways of understanding life and the divine. By mapping your responses across literal, symbolic, esoteric, and mystical dimensions, you'll gain clarity on your worldview structure and how it shapes your experience.</p>
        <div style="background: rgba(0, 123, 255, 0.1); border-left: 4px solid var(--brand); border-radius: var(--radius); padding: 1rem; margin-top: 1rem;">
          <p style="margin: 0; font-size: 0.9rem; line-height: 1.6; color: var(--muted);"><strong style="color: var(--brand);">Note:</strong> These dimensions describe modes of apprehension, not levels of advancement. Each dimension offers a valid way of engaging with meaning.</p>
        </div>
        <p style="margin-top: 1rem; font-weight: 600; color: var(--brand);">Select the categories you'd like to explore, then complete the questionnaire to receive your paradigm profile.</p>
      </section>

      <section class="category-selection" id="categorySelection">
        <h2>Select Categories to Explore</h2>
        <div style="background: rgba(255, 184, 0, 0.1); border-left: 4px solid var(--accent); border-radius: var(--radius); padding: 1rem; margin-bottom: 1.5rem;">
          <p style="margin: 0; font-size: 0.9rem; line-height: 1.6; color: var(--muted);"><strong style="color: var(--accent);">Sequencing Note:</strong> Many users find clarifying "The Good Life" first stabilizes the "God" assessment. This reduces metaphysical vertigo without restricting your autonomy. You may select both categories or proceed in any order you prefer.</p>
        </div>
        <div class="category-grid">
          <div class="category-card" data-category="good_life">
            <h3>The Good Life</h3>
            <p>Explore your current dominant framing with Active, Contemplative, or Devotional ways of living across four dimensions of truth.</p>
          </div>
          <div class="category-card" data-category="god">
            <h3>God Perspectives</h3>
            <p>Clarify your current dominant framing of God or ultimate reality across six primary perspectives and four dimensions.</p>
          </div>
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="example-reports/paradigm-example.html" target="_blank" class="btn btn-secondary" style="padding: 0.75rem 1.5rem; background: rgba(255, 255, 255, 0.9); border: 2px solid var(--brand); color: var(--brand); border-radius: var(--radius); text-decoration: none; font-weight: 600;">View Example Report</a>
            <button class="btn btn-primary" id="startAssessment" disabled>Start Assessment</button>
          </div>
        </div>
      </section>

      <section class="questionnaire-section" id="questionnaireSection">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div id="questionContainer">
          <!-- Questions will be populated by JavaScript -->
        </div>
        <div class="navigation-buttons">
          <button class="btn btn-secondary" id="prevQuestion" disabled>Previous</button>
          <button class="btn btn-primary" id="nextQuestion">Next</button>
        </div>
        <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(0,0,0,0.1); text-align: center;">
          <button class="btn btn-secondary" id="abandonAssessment" style="background: transparent; color: var(--muted); border: 1px solid var(--muted);">Abandon / Restart</button>
        </div>
      </section>

      <section class="results-section" id="resultsSection">
        <h2>Your Paradigm Profile</h2>
        <div id="resultsContainer">
          <!-- Results will be populated by JavaScript -->
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <button class="btn btn-primary" id="newAssessment">Start New Assessment</button>
          <button class="btn btn-secondary" id="exportJSON">Export JSON</button>
          <button class="btn btn-secondary" id="exportCSV">Export CSV</button>
        </div>
      </section>
    </div>
  </main>

  <footer style="position: relative; z-index: 2;">
    <p>&copy; 2025 Belief Mastery &amp; Sovereign of Mind. All rights reserved.</p>
    <p>
      <a href="https://instagram.com/belief.mastery" target="_blank" rel="noopener">@belief.mastery</a> on Instagram | 
      <a href="https://www.facebook.com/war.mars.9" target="_blank" rel="noopener">Facebook</a>
    </p>
  </footer>

  <script type="module" src="paradigm-engine.js"></script>
  <script src="header.js"></script>

  <!-- Debug Panel -->
  <button class="debug-toggle" id="debugToggle" title="Toggle Debug Panel (Ctrl+D to enable debug mode)">üêõ</button>
  <div class="debug-panel" id="debugPanel">
    <div class="debug-header">
      <h3>Debug Log</h3>
      <div>
        <button class="debug-toggle" id="debugClear">Clear</button>
        <button class="debug-toggle" id="debugClose">‚úï</button>
      </div>
    </div>
    <div class="debug-log" id="debugLog">
      <!-- Debug entries will be populated here -->
    </div>
    <div class="debug-footer">
      Press Ctrl+D (Cmd+D on Mac) to toggle debug mode
    </div>
  </div>

  <script>
    // Debug panel toggle
    document.addEventListener('DOMContentLoaded', function() {
      const debugToggle = document.getElementById('debugToggle');
      const debugPanel = document.getElementById('debugPanel');
      const debugClose = document.getElementById('debugClose');
      const debugClear = document.getElementById('debugClear');
      const debugLog = document.getElementById('debugLog');
      
      if (debugToggle && debugPanel) {
        debugToggle.addEventListener('click', function() {
          debugPanel.classList.toggle('active');
        });
        
        if (debugClose) {
          debugClose.addEventListener('click', function() {
            debugPanel.classList.remove('active');
          });
        }
        
        if (debugClear && debugLog) {
          debugClear.addEventListener('click', function() {
            debugLog.innerHTML = '';
            if (window.paradigmEngine) {
              window.paradigmEngine.debugLog = [];
            }
          });
        }
      }
      
      // Enable debug mode with keyboard shortcut (Ctrl+D or Cmd+D)
      document.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
          e.preventDefault();
          if (window.paradigmEngine) {
            window.paradigmEngine.debugMode = !window.paradigmEngine.debugMode;
            console.log('Debug mode:', window.paradigmEngine.debugMode ? 'ENABLED' : 'DISABLED');
            if (window.paradigmEngine.debugMode) {
              debugPanel.classList.add('active');
            }
          }
        }
      });
    });
  </script>
</body>
</html>

